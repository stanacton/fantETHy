var app=angular.module("fantethy",["ngRoute"]);app.controller("GameCreateCtrl",["$scope","GameSvc",function(a,b){a.item={},a.create=function(c){if(a.errors=[],c.name||a.errors.push({message:"Name is required."}),c.leagueSize||a.errors.push({message:"League Size is required."}),c.buyIn||a.errors.push({message:"Buy In is required."}),!(a.errors.length>0)){var d=b.createGame(c);"success"===d.status&&(a.success=!0,a.address=d.address)}}}]),app.controller("GameCtrl",["$scope","GameSvc","$routeParams",function(a,b,c){a.game=b.getGame(c.id)}]),app.controller("GameJoinCtrl",["$scope",function(a){a.game={name:"Andy's Game #1",buyIn:33,address:"0x02332423423a9df0a9a9afas0s99977688ad8",type:"Winner Takes All",isPrivate:!1},a.join=function(){a.success=!0}}]),app.controller("GamesListCtrl",["$scope",function(a){a.games=[{buyIn:3,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"Andy's Game #1"},{buyIn:10,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"Andy's Game #2"},{buyIn:15,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"Andy's Game #3"},{buyIn:15,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"Pinky's Game #3"},{buyIn:15,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"The Brain's Game #3"}],a.join=function(a){var b="#/games/"+a.address;window.location.href=b}}]),app.controller("HomeCtrl",["$scope","AngWeb3",function(a,b){}]),app.controller("MyGamesCtrl",["$scope",function(a){a.games=[{rank:10,buyIn:33,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"Andy's Game #1",status:"DRAFT"},{rank:3,buyIn:1,address:"0x12423596843e32f32af333",type:"WINNER_TAKES_ALL",name:"The Brain's Game #3",status:"Session In Progress"}]}]),app.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"partials/home.html",controller:"HomeCtrl"}).when("/games",{templateUrl:"partials/games-list.html",controller:"GamesListCtrl"}).when("/my-games",{templateUrl:"partials/games-mine.html",controller:"MyGamesCtrl"}).when("/games/join/:id",{templateUrl:"partials/game-join.html",controller:"GameJoinCtrl"}).when("/game/create",{templateUrl:"partials/game-create.html",controller:"GameCreateCtrl"}).when("/game/:id",{templateUrl:"partials/game.html",controller:"GameCtrl"}).otherwise({redirectTo:"/home"})}]),function(a,b){b.factory("AngWeb3",["WalletBar",function(b){var c=new a;return c.setProvider(b.getHook("edgware")),c}])}(Web3,app),app.factory("GameSvc",["AngWeb3","WalletBar",function(a,b){function c(a){var b=[{name:"Ronaldo"},{name:"Andre Gray"}];return{weeksRemaining:4,name:"Andy's Premiership",status:"Season in Progress",prizePool:34,users:[{rank:1,name:"Andy",points:345,address:"0x44asa097fad6fdfs9s87f9s7f97a7f7af7e9f7a89a7f9a",players:b},{rank:2,name:"Chris",points:245,address:"0x44asa097fad6fdfs9s87f9s7f97a7f7af7e9f7a89a7f9a",players:b},{rank:3,name:"Coleman",points:45,address:"0x44asa097fad6fdfs9s87f9s7f97a7f7af7e9f7a89a7f9a",players:b},{rank:4,name:"Acton",points:5,address:"0x44asa097fad6fdfs9s87f9s7f97a7f7af7e9f7a89a7f9a",players:b}]}}function d(a){return{status:"success",address:"0x23423423423423423423423423423423423423423423423423"}}return{getGame:c,createGame:d}}]),app.factory("WalletBar",[function(){var a="com-addc-fantethy-dev-edgware",b="http://localhost:63342";return new WalletBar({dappNamespace:a,authServiceCallbackUrl:b})}]);